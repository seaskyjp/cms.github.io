"use strict";(self.webpackChunkseaskyCMS=self.webpackChunkseaskyCMS||[]).push([[750],{9750:(M,p,e)=>{e.r(p),e.d(p,{HistoryListModule:()=>U});var c=e(4755),l=e(1195),m=e(5861),t=e(2223),z=e(131),f=e(3272),h=e(1401),v=e(2242),C=e(4247),y=e(4839),a=e(3174),Z=e(6377),g=e(8942);function L(o,r){if(1&o&&t._UZ(0,"img",14),2&o){const n=t.oxw().$implicit;t.Q6J("nzSrc",n.img)}}function T(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,L,1,1,"img",11),t.qZA(),t.TgZ(10,"td")(11,"a",12),t.NdJ("click",function(){const d=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.toEdit(d.id))}),t._uU(12,"Edit"),t.qZA(),t._UZ(13,"nz-divider",13),t.TgZ(14,"a",12),t.NdJ("click",function(){const d=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.delete(d.id))}),t._uU(15,"Delete"),t.qZA()()()}if(2&o){const n=r.$implicit;t.xp6(2),t.Oqu(t.xi3(3,4,n.dateAt,"yyyy-MM")),t.xp6(3),t.Oqu(n.title),t.xp6(2),t.Oqu(n.desc),t.xp6(2),t.Q6J("ngIf",n.img)}}const A=[{path:"",component:(()=>{class o{constructor(n,i,s){this.router=n,this.supabase=i,this.message=s,this.isLoading=!1,this.solutions=[]}ngOnInit(){this.getList()}getList(){var n=this;return(0,m.Z)(function*(){n.isLoading=!0;const{data:i,error:s}=yield n.supabase.get("history");s&&n.message.error(s.message),n.solutions=i||[],n.isLoading=!1})()}toEdit(n){this.router.navigateByUrl(n?`history/edit/${n}`:"history/add")}delete(n){var i=this;return(0,m.Z)(function*(){const{error:d}=yield i.supabase.delete("history",n);d?i.message.error(d.message):(i.message.success("Delete Success"),i.getList())})()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(l.F0),t.Y36(z.T),t.Y36(f.dD))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-history-list"]],decls:26,vars:3,consts:[["nzHeader","\u4f8b","nzActive","false"],["src","assets/img/history.png",2,"width","100%","height","auto"],["nzHeader","\u30c7\u30fc\u30bf","nzActive","true"],[1,"header-wrap"],[1,"header-title"],["nz-button","","nzType","primary",1,"header-button",3,"click"],[1,"content-wrap"],[3,"nzData","nzLoading"],["basicTable",""],["nzWidth","124px"],[4,"ngFor","ngForOf"],["width","50px","nz-image","",3,"nzSrc",4,"ngIf"],[3,"click"],["nzType","vertical"],["width","50px","nz-image","",3,"nzSrc"]],template:function(n,i){if(1&n&&(t.TgZ(0,"nz-collapse")(1,"nz-collapse-panel",0),t._UZ(2,"img",1),t.qZA(),t.TgZ(3,"nz-collapse-panel",2)(4,"div",3),t._UZ(5,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){return i.toEdit()}),t._uU(7,"Add"),t.qZA()(),t._UZ(8,"nz-divider"),t.TgZ(9,"div",6)(10,"nz-table",7,8)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"Date"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Title"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Description"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Image"),t.qZA(),t.TgZ(22,"th",9),t._uU(23,"Action"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,T,16,7,"tr",10),t.qZA()()()()()),2&n){const s=t.MAs(11);t.xp6(10),t.Q6J("nzData",i.solutions)("nzLoading",i.isLoading),t.xp6(15),t.Q6J("ngForOf",s.data)}},dependencies:[c.sg,c.O5,h.ix,v.w,C.dQ,y.g,a.N8,a.Uo,a._C,a.Om,a.p0,a.$Z,Z.Ie,g.Zv,g.yH,c.uU],styles:[".header-wrap[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:18px;display:inline-block}.header-wrap[_ngcontent-%COMP%]   .header-button[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .uploader>.ant-upload{width:128px;height:128px}"]}),o})()}];let H=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(A),l.Bz]}),o})();var x=e(8397);let U=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,H,x.o7,h.sL,y.S,a.HQ,Z.Gb,g.cD]}),o})()}}]);