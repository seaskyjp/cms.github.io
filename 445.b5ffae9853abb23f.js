"use strict";(self.webpackChunkseaskyCMS=self.webpackChunkseaskyCMS||[]).push([[445],{1445:(O,v,r)=>{r.r(v),r.d(v,{EditProfileModule:()=>N});var d=r(4755),o=r(1195),A=r(5861),l=r(5030),n=r(2223),T=r(131),u=r(3272),p=r(8397),c=r(1401),E=r(2242),Z=r(4247),f=r(4839),g=r(6681),h=r(1929),m=r(4701),C=r(8942);function D(a,t){if(1&a){const s=n.EpF();n.TgZ(0,"button",39),n.NdJ("click",function(){n.CHM(s);const i=n.oxw();return n.KtG(i.edit())}),n._uU(1,"\u7de8\u96c6"),n.qZA()}}function P(a,t){if(1&a){const s=n.EpF();n.TgZ(0,"button",39),n.NdJ("click",function(){n.CHM(s);const i=n.oxw();return n.KtG(i.cancel())}),n._uU(1,"\u30ad\u30e3\u30f3\u30bb\u30eb"),n.qZA()}}const F=[{path:"",component:(()=>{class a{constructor(s,e,i,z,_){this.router=s,this.route=e,this.supabase=i,this.message=z,this.fb=_,this.id="",this.isLoading=!1,this.isImgLoading=!1,this.isEdit=!1}ngOnInit(){this.id="1",this.form=this.fb.group({id:[null],created_at:[null],updated_at:[null],name:[null,[l.kI.required]],ceo:[null,[l.kI.required]],setupDate:[null,[l.kI.required]],address:[null,[l.kI.required]],capital:[null,[l.kI.required]],license1:[null,[l.kI.required]],license2:[null,[l.kI.required]],license3:[null,[l.kI.required]],phone:[null,[l.kI.required]],fax:[null,[l.kI.required]],bank1:[null,[l.kI.required]],bank2:[null,[l.kI.required]],bank3:[null,[l.kI.required]]}),this.cancel(),this.id&&this.getDetails(+this.id)}getDetails(s){var e=this;return(0,A.Z)(function*(){e.isLoading=!0;const{data:i,error:z}=yield e.supabase.get("profile",s,!0);z&&e.message.error(z.message),console.log(i),e.form.setValue({...i}),e.isLoading=!1})()}onChange(s){console.log("onChange: ",s)}submitForm(){var s=this;return(0,A.Z)(function*(){if(s.form.valid){console.log(s.form.value);const{error:e}=yield s.supabase.upsert("profile",s.form.value);e?s.message.error(e.message):(s.message.success("Success"),s.cancel())}else Object.values(s.form.controls).forEach(e=>{e.invalid&&(e.markAsDirty(),e.updateValueAndValidity({onlySelf:!0}))})})()}edit(){this.isEdit=!0,this.form.controls.name.enable(),this.form.controls.ceo.enable(),this.form.controls.setupDate.enable(),this.form.controls.address.enable(),this.form.controls.capital.enable(),this.form.controls.license1.enable(),this.form.controls.license2.enable(),this.form.controls.license3.enable(),this.form.controls.phone.enable(),this.form.controls.fax.enable(),this.form.controls.bank1.enable(),this.form.controls.bank2.enable(),this.form.controls.bank3.enable()}cancel(){this.isEdit=!1,this.form.controls.name.disable(),this.form.controls.ceo.disable(),this.form.controls.setupDate.disable(),this.form.controls.address.disable(),this.form.controls.capital.disable(),this.form.controls.license1.disable(),this.form.controls.license2.disable(),this.form.controls.license3.disable(),this.form.controls.phone.disable(),this.form.controls.fax.disable(),this.form.controls.bank1.disable(),this.form.controls.bank2.disable(),this.form.controls.bank3.disable()}}return a.\u0275fac=function(s){return new(s||a)(n.Y36(o.F0),n.Y36(o.gz),n.Y36(T.T),n.Y36(u.dD),n.Y36(l.QS))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-edit-profile"]],decls:81,vars:60,consts:[["nzHeader","\u4f8b","nzActive","false"],["src","assets/img/profile.png",2,"width","100%","height","auto"],["nzHeader","\u30c7\u30fc\u30bf","nzActive","true"],[3,"nzSpinning"],[1,"header-wrap"],[1,"header-title"],["class","header-button","nz-button","","nzType","primary",3,"click",4,"ngIf"],[1,"content-wrap"],["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nz-input","","formControlName","name","id","name"],["nzRequired","","nzFor","ceo",3,"nzSm","nzXs"],["nz-input","","formControlName","ceo","id","ceo"],["nzRequired","","nzFor","setupDate",3,"nzSm","nzXs"],["nz-input","","formControlName","setupDate","id","setupDate"],["nzRequired","","nzFor","address",3,"nzSm","nzXs"],["nz-input","","formControlName","address","id","address"],["nzRequired","","nzFor","capital",3,"nzSm","nzXs"],["nz-input","","formControlName","capital","id","capital"],["nzRequired","","nzFor","license1",3,"nzSm","nzXs"],["nz-input","","formControlName","license1","id","license1"],["nzRequired","","nzFor","license2",3,"nzSm","nzXs"],["nz-input","","formControlName","license2","id","license2"],["nzRequired","","nzFor","license3",3,"nzSm","nzXs"],["nz-input","","formControlName","license3","id","license3"],["nzRequired","","nzFor","phone",3,"nzSm","nzXs"],["nz-input","","formControlName","phone","id","phone"],["nzRequired","","nzFor","fax",3,"nzSm","nzXs"],["nz-input","","formControlName","fax","id","fax"],["nzRequired","","nzFor","bank1",3,"nzSm","nzXs"],["nz-input","","formControlName","bank1","id","bank1"],["nzRequired","","nzFor","bank2",3,"nzSm","nzXs"],["nz-input","","formControlName","bank2","id","bank2"],["nzRequired","","nzFor","bank3",3,"nzSm","nzXs"],["nz-input","","formControlName","bank3","id","bank3"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"disabled","nzLoading"],["nz-button","","nzType","primary",1,"header-button",3,"click"]],template:function(s,e){1&s&&(n.TgZ(0,"nz-collapse")(1,"nz-collapse-panel",0),n._UZ(2,"img",1),n.qZA(),n.TgZ(3,"nz-collapse-panel",2)(4,"nz-spin",3)(5,"div",4),n._UZ(6,"div",5),n.YNc(7,D,2,0,"button",6),n.YNc(8,P,2,0,"button",6),n.qZA(),n._UZ(9,"nz-divider"),n.TgZ(10,"div",7)(11,"form",8),n.NdJ("ngSubmit",function(){return e.submitForm()}),n.TgZ(12,"nz-form-item")(13,"nz-form-label",9),n._uU(14,"\u4f1a\u793e\u540d"),n.qZA(),n.TgZ(15,"nz-form-control",10),n._UZ(16,"input",11),n.qZA()(),n.TgZ(17,"nz-form-item")(18,"nz-form-label",12),n._uU(19,"\u4ee3\u8868\u8005\uff08\u4ee3\u8868\u53d6\u7de0\u5f79\u793e\u9577\uff09"),n.qZA(),n.TgZ(20,"nz-form-control",10),n._UZ(21,"input",13),n.qZA()(),n.TgZ(22,"nz-form-item")(23,"nz-form-label",14),n._uU(24,"\u8a2d\u7acb"),n.qZA(),n.TgZ(25,"nz-form-control",10),n._UZ(26,"input",15),n.qZA()(),n.TgZ(27,"nz-form-item")(28,"nz-form-label",16),n._uU(29,"\u672c\u793e\u6240\u5728\u5730"),n.qZA(),n.TgZ(30,"nz-form-control",10),n._UZ(31,"input",17),n.qZA()(),n.TgZ(32,"nz-form-item")(33,"nz-form-label",18),n._uU(34,"\u8cc7\u672c\u91d1"),n.qZA(),n.TgZ(35,"nz-form-control",10),n._UZ(36,"input",19),n.qZA()(),n.TgZ(37,"nz-form-item")(38,"nz-form-label",20),n._uU(39,"\u52b4\u50cd\u8005\u6d3e\u9063\u4e8b\u696d\u8a31\u53ef\u756a\u53f7"),n.qZA(),n.TgZ(40,"nz-form-control",10),n._UZ(41,"input",21),n.qZA()(),n.TgZ(42,"nz-form-item")(43,"nz-form-label",22),n._uU(44,"\u6709\u6599\u8077\u696d\u7d39\u4ecb\u4e8b\u696d\u8a31\u53ef\u756a\u53f7"),n.qZA(),n.TgZ(45,"nz-form-control",10),n._UZ(46,"input",23),n.qZA()(),n.TgZ(47,"nz-form-item")(48,"nz-form-label",24),n._uU(49,"\u53e4\u7269\u5546\u8a31\u53ef"),n.qZA(),n.TgZ(50,"nz-form-control",10),n._UZ(51,"input",25),n.qZA()(),n.TgZ(52,"nz-form-item")(53,"nz-form-label",26),n._uU(54,"\u96fb\u8a71"),n.qZA(),n.TgZ(55,"nz-form-control",10),n._UZ(56,"input",27),n.qZA()(),n.TgZ(57,"nz-form-item")(58,"nz-form-label",28),n._uU(59,"FAX"),n.qZA(),n.TgZ(60,"nz-form-control",10),n._UZ(61,"input",29),n.qZA()(),n.TgZ(62,"nz-form-item")(63,"nz-form-label",30),n._uU(64,"\u53d6\u5f15\u9280\u884c1"),n.qZA(),n.TgZ(65,"nz-form-control",10),n._UZ(66,"input",31),n.qZA()(),n.TgZ(67,"nz-form-item")(68,"nz-form-label",32),n._uU(69,"\u53d6\u5f15\u9280\u884c2"),n.qZA(),n.TgZ(70,"nz-form-control",10),n._UZ(71,"input",33),n.qZA()(),n.TgZ(72,"nz-form-item")(73,"nz-form-label",34),n._uU(74,"\u53d6\u5f15\u9280\u884c3"),n.qZA(),n.TgZ(75,"nz-form-control",10),n._UZ(76,"input",35),n.qZA()(),n.TgZ(77,"nz-form-item",36)(78,"nz-form-control",37)(79,"button",38),n._uU(80,"\u4fdd\u5b58"),n.qZA()()()()()()()()),2&s&&(n.xp6(4),n.Q6J("nzSpinning",e.isLoading),n.xp6(3),n.Q6J("ngIf",!e.isEdit),n.xp6(1),n.Q6J("ngIf",e.isEdit),n.xp6(3),n.Q6J("formGroup",e.form),n.xp6(2),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSpan",6)("nzOffset",6),n.xp6(1),n.Q6J("disabled",!e.isEdit)("nzLoading",e.isLoading||e.isImgLoading))},dependencies:[d.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,p.Zp,c.ix,E.w,Z.dQ,f.g,g.W,h.t3,h.SK,m.Lr,m.Nx,m.iK,m.Fd,C.Zv,C.yH]}),a})()}];let y=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[o.Bz.forChild(F),o.Bz]}),a})();var b=r(3174),S=r(2701),x=r(3068);let N=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[d.ez,y,l.UX,p.o7,c.sL,f.S,b.HQ,g.j,m.U5,S.PV,x.cS,C.cD]}),a})()},8942:(O,v,r)=>{r.d(v,{Zv:()=>N,cD:()=>a,yH:()=>S});var d=r(7582),o=r(2223),A=r(4968),l=r(2722),n=r(9300),T=r(7169),u=r(9436),p=r(8982),c=r(4780),E=r(8930),Z=r(6760),f=r(4755),g=r(2701),h=r(2643);const m=["*"],C=["collapseHeader"];function D(t,s){if(1&t&&(o.ynx(0),o._UZ(1,"span",7),o.BQk()),2&t){const e=s.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("nzType",e||"right")("nzRotate",i.nzActive?90:0)}}function P(t,s){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,D,2,2,"ng-container",3),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("nzStringTemplateOutlet",e.nzExpandedIcon)}}function M(t,s){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.nzHeader)}}function F(t,s){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.nzExtra)}}function y(t,s){if(1&t&&(o.TgZ(0,"div",8),o.YNc(1,F,2,1,"ng-container",3),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("nzStringTemplateOutlet",e.nzExtra)}}const b="collapse";let S=(()=>{class t{constructor(e,i,z,_){this.nzConfigService=e,this.cdr=i,this.directionality=z,this.destroy$=_,this._nzModuleName=b,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(b).pipe((0,l.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,l.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(e){this.listOfNzCollapsePanelComponent.push(e)}removePanel(e){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(e),1)}click(e){this.nzAccordion&&!e.nzActive&&this.listOfNzCollapsePanelComponent.filter(i=>i!==e).forEach(i=>{i.nzActive&&(i.nzActive=!1,i.nzActiveChange.emit(i.nzActive),i.markForCheck())}),e.nzActive=!e.nzActive,e.nzActiveChange.emit(e.nzActive)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(u.jY),o.Y36(o.sBO),o.Y36(E.Is,8),o.Y36(p.kn))},t.\u0275cmp=o.Xpm({type:t,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(e,i){2&e&&o.ekj("ant-collapse-icon-position-left","left"===i.nzExpandIconPosition)("ant-collapse-icon-position-right","right"===i.nzExpandIconPosition)("ant-collapse-ghost",i.nzGhost)("ant-collapse-borderless",!i.nzBordered)("ant-collapse-rtl","rtl"===i.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],features:[o._Bn([p.kn])],ngContentSelectors:m,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),(0,d.gn)([(0,u.oS)(),(0,c.yF)()],t.prototype,"nzAccordion",void 0),(0,d.gn)([(0,u.oS)(),(0,c.yF)()],t.prototype,"nzBordered",void 0),(0,d.gn)([(0,u.oS)(),(0,c.yF)()],t.prototype,"nzGhost",void 0),t})();const x="collapsePanel";let N=(()=>{class t{markForCheck(){this.cdr.markForCheck()}constructor(e,i,z,_,U,I){this.nzConfigService=e,this.ngZone=i,this.cdr=z,this.destroy$=_,this.nzCollapseComponent=U,this.noAnimation=I,this._nzModuleName=x,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new o.vpe,this.nzConfigService.getConfigChangeEventForComponent(x).pipe((0,l.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,A.R)(this.collapseHeader.nativeElement,"click").pipe((0,n.h)(()=>!this.nzDisabled),(0,l.R)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(u.jY),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(p.kn),o.Y36(S,1),o.Y36(Z.P,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["nz-collapse-panel"]],viewQuery:function(e,i){if(1&e&&o.Gf(C,7),2&e){let z;o.iGM(z=o.CRH())&&(i.collapseHeader=z.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("ant-collapse-no-arrow",!i.nzShowArrow)("ant-collapse-item-active",i.nzActive)("ant-collapse-item-disabled",i.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],features:[o._Bn([p.kn])],ngContentSelectors:m,decls:8,vars:8,consts:[["role","button",1,"ant-collapse-header"],["collapseHeader",""],[4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-collapse-extra",4,"ngIf"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"],[1,"ant-collapse-extra"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.YNc(2,P,2,1,"div",2),o.YNc(3,M,2,1,"ng-container",3),o.YNc(4,y,2,1,"div",4),o.qZA(),o.TgZ(5,"div",5)(6,"div",6),o.Hsn(7),o.qZA()()),2&e&&(o.uIk("aria-expanded",i.nzActive),o.xp6(2),o.Q6J("ngIf",i.nzShowArrow),o.xp6(1),o.Q6J("nzStringTemplateOutlet",i.nzHeader),o.xp6(1),o.Q6J("ngIf",i.nzExtra),o.xp6(1),o.ekj("ant-collapse-content-active",i.nzActive),o.Q6J("@.disabled",!(null==i.noAnimation||!i.noAnimation.nzNoAnimation))("@collapseMotion",i.nzActive?"expanded":"hidden"))},dependencies:[f.O5,g.Ls,h.f],encapsulation:2,data:{animation:[T.J_]},changeDetection:0}),(0,d.gn)([(0,c.yF)()],t.prototype,"nzActive",void 0),(0,d.gn)([(0,c.yF)()],t.prototype,"nzDisabled",void 0),(0,d.gn)([(0,u.oS)(),(0,c.yF)()],t.prototype,"nzShowArrow",void 0),t})(),a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[E.vT,f.ez,g.PV,h.T,Z.g]}),t})()}}]);