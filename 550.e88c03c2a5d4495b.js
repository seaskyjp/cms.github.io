"use strict";(self.webpackChunkseaskyCMS=self.webpackChunkseaskyCMS||[]).push([[550],{4550:(x,g,o)=>{o.r(g),o.d(g,{CurriculumVitaeModule:()=>F});var C=o(4755),f=o(1195),c=o(5861),v=o(7489),t=o(2223),Z=o(131),M=o(3272),h=o(8551),z=o(4839),l=o(3174),p=o(9470),d=o(5030);function V(e,r){if(1&e&&t._UZ(0,"nz-option",7),2&e){const n=r.$implicit;t.Q6J("nzValue",n)("nzLabel",n)}}function T(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",8),t.NdJ("click",function(){const u=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.download(u))}),t._uU(9,"\u5c65\u6b74\u66f8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059"),t.qZA(),t._UZ(10,"nz-divider",9),t.TgZ(11,"a",8),t.NdJ("click",function(){const u=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.delete(u.id))}),t._uU(12,"Delete"),t.qZA()()()}if(2&e){const n=r.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.post),t.xp6(2),t.Oqu(n.email)}}const y=[{path:"",component:(()=>{class e{constructor(n,a,i){this.supabase=n,this.message=a,this.modalService=i,this.isLoading=!1,this.applicant=[],this.selectItem=[],this.applicantDisplay=[]}ngOnInit(){this.getList()}getList(){var n=this;return(0,c.Z)(function*(){n.isLoading=!0;const{data:a,error:i}=yield n.supabase.get("applicant");i&&n.message.error(i.message),n.applicant=a||[],n.applicantDisplay=v.cloneDeep(a),n.selectItem=[...new Set(n.applicantDisplay.map(u=>u.post))],n.isLoading=!1})()}fiflterUser(){this.applicant=this.postItem?this.applicantDisplay.filter(n=>n.post===this.postItem):this.applicantDisplay}delete(n){var a=this;return(0,c.Z)(function*(){var i;a.modalService.confirm({nzTitle:"<b>\u786e\u5b9a\u5220\u9664\u5417</b>",nzOnOk:(i=(0,c.Z)(function*(){a.isLoading=!0;const{error:s}=yield a.supabase.delete("applicant",n);s?(a.message.error(s.message),a.isLoading=!1):(a.message.success("Delete Success"),a.getList())}),function(){return i.apply(this,arguments)})})})()}download(n){var a=this;return(0,c.Z)(function*(){const{data:i}=yield a.supabase.downLoadVitae(n.vitae);let J=window.URL.createObjectURL(i);const m=document.createElement("a");m.href=J,m.download=n.name+"-"+n.post,m.click()})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z.T),t.Y36(M.dD),t.Y36(h.Sf))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-curriculum-vitae"]],decls:20,vars:5,consts:[[1,"content-wrap"],["nz-row",""],["nzAllowClear","",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzData","nzLoading"],["basicTable",""],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[3,"click"],["nzType","vertical"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nz-select",2),t.NdJ("ngModelChange",function(u){return a.postItem=u})("ngModelChange",function(){return a.fiflterUser()}),t.YNc(3,V,1,2,"nz-option",3),t.qZA()(),t._UZ(4,"nz-divider"),t.TgZ(5,"div",1)(6,"nz-table",4,5)(8,"thead")(9,"tr")(10,"th"),t._uU(11,"\u540d\u524d\u3067\u3059"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"\u6301\u3061\u5834\u3067\u3059"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u3067\u3059"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Action"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,T,13,3,"tr",6),t.qZA()()()()),2&n){const i=t.MAs(7);t.xp6(2),t.Q6J("ngModel",a.postItem),t.xp6(1),t.Q6J("ngForOf",a.selectItem),t.xp6(3),t.Q6J("nzData",a.applicant)("nzLoading",a.isLoading),t.xp6(13),t.Q6J("ngForOf",i.data)}},dependencies:[C.sg,z.g,l.N8,l.Uo,l._C,l.Om,l.p0,l.$Z,p.Ip,p.Vq,d.JJ,d.On],styles:[".header-wrap[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:18px;display:inline-block}.header-wrap[_ngcontent-%COMP%]   .header-button[_ngcontent-%COMP%]{float:right}nz-select[_ngcontent-%COMP%]{min-width:200px}"]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(y),f.Bz]}),e})();var O=o(8397),U=o(1401),A=o(6377),D=o(8942);let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[C.ez,L,O.o7,U.sL,z.S,l.HQ,A.Gb,D.cD,p.LV,d.UX,d.u5,h.Qp]}),e})()}}]);