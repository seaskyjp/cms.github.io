"use strict";(self.webpackChunkseaskyCMS=self.webpackChunkseaskyCMS||[]).push([[154],{2154:(L,m,i)=>{i.r(m),i.d(m,{EditQualityModule:()=>A});var v=i(4755),u=i(1195),z=i(5861),s=i(5030),n=i(2223),h=i(131),Q=i(3272),g=i(8397),f=i(1401),S=i(2242),Z=i(4247),c=i(4839),p=i(6681),y=i(1929),l=i(4701);const T=[{path:"",component:(()=>{class r{constructor(t,o,e,d,F){this.router=t,this.route=o,this.supabase=e,this.message=d,this.fb=F,this.id="",this.isLoading=!1,this.isImgLoading=!1}ngOnInit(){this.id=this.route.snapshot.params.id||"",this.form=this.fb.group({id:[null],created_at:[null],updated_at:[null],title:[null,[s.kI.required]],desc:[null,[s.kI.required]],iconclass:[null,[s.kI.required]]}),this.id&&this.getDetails(+this.id)}getDetails(t){var o=this;return(0,z.Z)(function*(){o.isLoading=!0;const{data:e,error:d}=yield o.supabase.get("quality",t,!0);d&&o.message.error(d.message),console.log(e),o.form.setValue({...e}),o.isLoading=!1})()}goBack(){this.router.navigateByUrl("quality")}submitForm(){var t=this;return(0,z.Z)(function*(){if(t.form.valid){console.log(t.form.value);const{error:o}=yield t.supabase.upsert("quality",t.form.value);o?t.message.error(o.message):(t.message.success("Success"),t.goBack())}else Object.values(t.form.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})})()}}return r.\u0275fac=function(t){return new(t||r)(n.Y36(u.F0),n.Y36(u.gz),n.Y36(h.T),n.Y36(Q.dD),n.Y36(s.QS))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-edit-quality"]],decls:27,vars:17,consts:[[3,"nzSpinning"],[1,"header-wrap"],[1,"header-title"],["nz-button","","nzType","primary",1,"header-button",3,"click"],[1,"content-wrap"],["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","title",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nz-input","","formControlName","title","id","title"],["nzRequired","","nzFor","desc",3,"nzSm","nzXs"],["nz-input","","formControlName","desc","id","desc"],["nzRequired","","nzFor","iconclass",3,"nzSm","nzXs"],["nz-input","","formControlName","iconclass","id","iconclass"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"nzLoading"]],template:function(t,o){1&t&&(n.TgZ(0,"nz-spin",0)(1,"div",1),n._UZ(2,"div",2),n.TgZ(3,"button",3),n.NdJ("click",function(){return o.goBack()}),n._uU(4,"\u623b\u3063\u3066"),n.qZA()(),n._UZ(5,"nz-divider"),n.TgZ(6,"div",4)(7,"form",5),n.NdJ("ngSubmit",function(){return o.submitForm()}),n.TgZ(8,"nz-form-item")(9,"nz-form-label",6),n._uU(10,"Title"),n.qZA(),n.TgZ(11,"nz-form-control",7),n._UZ(12,"input",8),n.qZA()(),n.TgZ(13,"nz-form-item")(14,"nz-form-label",9),n._uU(15,"Description"),n.qZA(),n.TgZ(16,"nz-form-control",7),n._UZ(17,"input",10),n.qZA()(),n.TgZ(18,"nz-form-item")(19,"nz-form-label",11),n._uU(20,"ICON Class "),n.qZA(),n.TgZ(21,"nz-form-control",7),n._UZ(22,"input",12),n.qZA()(),n.TgZ(23,"nz-form-item",13)(24,"nz-form-control",14)(25,"button",15),n._uU(26,"\u4fdd\u5b58"),n.qZA()()()()()()),2&t&&(n.Q6J("nzSpinning",o.isLoading),n.xp6(7),n.Q6J("formGroup",o.form),n.xp6(2),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSpan",14)("nzOffset",6),n.xp6(1),n.Q6J("nzLoading",o.isLoading||o.isImgLoading))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g.Zp,f.ix,S.w,Z.dQ,c.g,p.W,y.t3,y.SK,l.Lr,l.Nx,l.iK,l.Fd]}),r})()}];let C=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[u.Bz.forChild(T),u.Bz]}),r})();var J=i(3174),E=i(2701),U=i(3068);let A=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[v.ez,C,s.UX,g.o7,f.sL,c.S,J.HQ,p.j,l.U5,E.PV,U.cS]}),r})()}}]);