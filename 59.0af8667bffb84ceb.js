"use strict";(self.webpackChunkseaskyCMS=self.webpackChunkseaskyCMS||[]).push([[59],{3355:(I,z,r)=>{r.d(z,{F:()=>m});var o=r(5861),u=r(2223),f=r(1075),g=r(5030);let m=(()=>{class h{constructor(){this.readonlyflag=!1,this.contentChange=new u.vpe,this.contentImageUploadingChange=new u.vpe,this.uploadError=!1}ngOnInit(){this.ckeConfig={allowedContent:!0,extraPlugins:"divarea",removeButtons:"Language,Save,NewPage,Preview,Print"}}onPaste(d){var i=this;return(0,o.Z)(function*(){if("paste"===d.name){const c=d.data.dataValue,a=c.match(/<img.*?(?:>|\/>)/gi);if(a){for(let l=0;l<a.length;l++)try{i.contentImageUploading=!0,i.contentImageUploadingChange.emit(!0);const y=a[l].match(/src=[\'\"]?([^\'\"]*)[\'\"]?/i);i.content=c.replace(y.input,'<img src="'+y[1]+'"/>')}catch{i.uploadError=!0,i.contentImageUploading=!1,i.contentImageUploadingChange.emit(!1)}i.contentImageUploading=!1,i.contentImageUploadingChange.emit(!1)}}})()}onChange(d){this.contentChange.emit(this.content)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275cmp=u.Xpm({type:h,selectors:[["app-content-editor"]],inputs:{content:"content",readonlyflag:"readonlyflag",contentImageUploading:"contentImageUploading"},outputs:{contentChange:"contentChange",contentImageUploadingChange:"contentImageUploadingChange"},decls:1,vars:3,consts:[["name","ckeditor","debounce","500",3,"ngModel","config","readonly","ngModelChange","paste","change"]],template:function(d,i){1&d&&(u.TgZ(0,"ckeditor",0),u.NdJ("ngModelChange",function(e){return i.content=e})("paste",function(e){return i.onPaste(e)})("change",function(e){return i.onChange(e)}),u.qZA()),2&d&&u.Q6J("ngModel",i.content)("config",i.ckeConfig)("readonly",i.readonlyflag)},dependencies:[f.ue,g.JJ,g.On]}),h})()},4233:(I,z,r)=>{r.d(z,{m:()=>U});var o=r(4755),u=r(1075),f=r(5030),g=r(1195),m=r(2223),h=r(8930),C=r(2701),d=r(2643);let N=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[h.vT,o.ez,C.PV,d.T]}),t})();var w=r(6681),O=r(8942);let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[u.dF,f.UX,N,w.j,f.u5,O.cD,g.Bz,o.ez,f.u5]}),t})()},1075:(I,z,r)=>{r.d(z,{dF:()=>d,ue:()=>C});var o=r(2223),u=r(5030),f=r(4755);const g=["host"];let m=(()=>{class i{constructor(){this.click=new o.vpe}initialize(e){e.instance.addCommand(this.command,{exec:a=>(this.click.emit(a),!0)}),e.instance.ui.addButton(this.name,{label:this.label,command:this.command,toolbar:this.toolbar,icon:this.icon})}ngOnInit(){if(!this.name)throw new Error('Attribute "name" is required on <ckbutton>');if(!this.command)throw new Error('Attribute "command" is required on <ckbutton>')}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=o.lG2({type:i,selectors:[["ckbutton"]],inputs:{label:"label",command:"command",toolbar:"toolbar",name:"name",icon:"icon"},outputs:{click:"click"}}),i})(),h=(()=>{class i{ngAfterContentInit(){this.toolbarButtons.forEach(e=>e.toolbar=this.name)}initialize(e){e.instance.ui.addToolbarGroup(this.name,this.previous,this.subgroupOf),this.toolbarButtons.forEach(a=>{a.initialize(e)})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=o.lG2({type:i,selectors:[["ckgroup"]],contentQueries:function(e,a,l){if(1&e&&o.Suo(l,m,4),2&e){let p;o.iGM(p=o.CRH())&&(a.toolbarButtons=p)}},inputs:{name:"name",previous:"previous",subgroupOf:"subgroupOf"}}),i})(),C=(()=>{class i{constructor(e){this.zone=e,this.change=new o.vpe,this.editorChange=new o.vpe,this.ready=new o.vpe,this.blur=new o.vpe,this.focus=new o.vpe,this.contentDom=new o.vpe,this.fileUploadRequest=new o.vpe,this.fileUploadResponse=new o.vpe,this.paste=new o.vpe,this.drop=new o.vpe,this._value="",this.destroyed=!1}get value(){return this._value}set value(e){e!==this._value&&(this._value=e,this.onChange(e))}ngOnChanges(e){e.readonly&&this.instance&&this.instance.setReadOnly(e.readonly.currentValue)}ngOnDestroy(){this.destroyed=!0,this.zone.runOutsideAngular(()=>{this.instance&&(CKEDITOR.removeAllListeners(),this.instance.destroy(),this.instance=null)})}ngAfterViewInit(){this.destroyed||this.ckeditorInit(this.config||{})}ngAfterViewChecked(){this.ckeditorInit(this.config||{})}updateValue(e){this.zone.run(()=>{this.value=e,this.onChange(e),this.onTouched(),this.change.emit(e)})}ckeditorInit(e){if(typeof CKEDITOR>"u")console.warn("CKEditor 4.x is missing (http://ckeditor.com/)");else{if(this.instance||!this.documentContains(this.host.nativeElement))return;this.readonly&&(e.readOnly=this.readonly),this.instance=CKEDITOR.replace(this.host.nativeElement,e),this.instance.setData(this.value),this.instance.on("instanceReady",a=>{this.instance.getData()!==this.value&&this.instance.setData(this.value),this.ready.emit(a)}),this.instance.on("change",a=>{this.onTouched();const l=this.instance.getData();this.value!==l&&(this.debounce?(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=window.setTimeout(()=>{this.updateValue(l),this.debounceTimeout=null},parseInt(this.debounce))):this.updateValue(l)),this.editorChange.emit(a)}),this.instance.on("blur",a=>{this.blur.emit(a)}),this.instance.on("focus",a=>{this.focus.emit(a)}),this.instance.on("contentDom",a=>{this.contentDom.emit(a)}),this.instance.on("fileUploadRequest",a=>{this.fileUploadRequest.emit(a)}),this.instance.on("fileUploadResponse",a=>{this.fileUploadResponse.emit(a)}),this.instance.on("paste",a=>{this.paste.emit(a)}),this.instance.on("drop",a=>{this.drop.emit(a)}),this.toolbarGroups.forEach(a=>{a.initialize(this)}),this.toolbarButtons.forEach(a=>{a.initialize(this)})}}writeValue(e){this._value=e,this.instance&&this.instance.setData(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}documentContains(e){return document.contains?document.contains(e):document.body.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.R0b))},i.\u0275cmp=o.Xpm({type:i,selectors:[["ckeditor"]],contentQueries:function(e,a,l){if(1&e&&(o.Suo(l,m,4),o.Suo(l,h,4)),2&e){let p;o.iGM(p=o.CRH())&&(a.toolbarButtons=p),o.iGM(p=o.CRH())&&(a.toolbarGroups=p)}},viewQuery:function(e,a){if(1&e&&o.Gf(g,5),2&e){let l;o.iGM(l=o.CRH())&&(a.host=l.first)}},inputs:{config:"config",readonly:"readonly",debounce:"debounce",value:"value"},outputs:{change:"change",editorChange:"editorChange",ready:"ready",blur:"blur",focus:"focus",contentDom:"contentDom",fileUploadRequest:"fileUploadRequest",fileUploadResponse:"fileUploadResponse",paste:"paste",drop:"drop"},features:[o._Bn([{provide:u.JU,useExisting:(0,o.Gpc)(()=>i),multi:!0}]),o.TTD],decls:2,vars:0,consts:[["host",""]],template:function(e,a){1&e&&o._UZ(0,"textarea",null,0)},encapsulation:2}),i})(),d=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[f.ez]}),i})()}}]);